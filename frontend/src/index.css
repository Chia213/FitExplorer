@tailwind base;
@tailwind components;
@tailwind utilities;

/* PWA specific styles */
html, body {
  height: 100%;
  width: 100%;
  padding: 0;
  margin: 0;
  overscroll-behavior-y: contain;
  -webkit-overflow-scrolling: touch;
  -webkit-tap-highlight-color: transparent;
}

/* Remove browser tap highlight color */
a, button, input[type="button"], input[type="submit"], input[type="reset"] {
  -webkit-tap-highlight-color: transparent;
}

/* Disable pull-to-refresh on iOS Safari */
html {
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
}

body {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  height: 100%;
}

/* Mobile optimizations - make touch targets bigger */
@media (max-width: 768px) {
  button, 
  .btn, 
  a.btn, 
  input[type="button"], 
  input[type="submit"],
  input[type="reset"],
  .nav-link,
  select {
    min-height: 44px;
    min-width: 44px;
    padding: 0.5rem 1rem;
    font-size: 1rem;
  }
  
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="search"],
  input[type="tel"],
  input[type="url"],
  textarea {
    font-size: 16px; /* Prevents iOS zoom on focus */
    min-height: 44px;
    padding: 0.5rem;
  }
  
  /* Add more spacing for better touch targets */
  .space-y-2 {
    margin-top: 0.75rem;
    margin-bottom: 0.75rem;
  }
  
  /* Enlarge checkboxes and radio buttons */
  input[type="checkbox"],
  input[type="radio"] {
    transform: scale(1.2);
    margin: 0.2rem;
  }
}

/* iOS specific styles for home screen app */
@media (display-mode: standalone) {
  /* Add padding to avoid bottom navigation bars */
  body {
    padding-bottom: env(safe-area-inset-bottom);
    padding-top: env(safe-area-inset-top);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  /* Simulate a native app by hiding scrollbars */
  ::-webkit-scrollbar {
    display: none;
  }
  
  /* Fix for iOS bottom navigation area */
  .bottom-nav {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* App-like animations for transitions */
.page-transition-enter {
  opacity: 0;
  transform: translateX(100%);
}

.page-transition-enter-active {
  opacity: 1;
  transform: translateX(0);
  transition: opacity 300ms, transform 300ms;
}

.page-transition-exit {
  opacity: 1;
  transform: translateX(0);
}

.page-transition-exit-active {
  opacity: 0;
  transform: translateX(-100%);
  transition: opacity 300ms, transform 300ms;
}

@layer base {
  :root {
    /* Default theme colors */
    --color-primary: #3b82f6; /* blue-500 */
    --color-secondary: #10b981; /* emerald-500 */
    --color-accent: #8b5cf6; /* violet-500 */
  }

  /* Apply theme colors to Tailwind elements */
  .btn-primary {
    @apply bg-[var(--color-primary)] text-white hover:opacity-90;
  }
  
  .btn-secondary {
    @apply bg-[var(--color-secondary)] text-white hover:opacity-90;
  }
  
  .text-accent {
    @apply text-[var(--color-accent)];
  }
  
  .border-accent {
    @apply border-[var(--color-accent)];
  }
  
  .bg-accent {
    @apply bg-[var(--color-accent)];
  }
  
  /* Enhanced card styles for premium themes */
  .card {
    @apply rounded-lg shadow-md;
    
    &.premium {
      background: linear-gradient(
        135deg,
        rgba(var(--color-primary-rgb), 0.1) 0%,
        rgba(var(--color-secondary-rgb), 0.1) 100%
      );
      border: 1px solid rgba(var(--color-accent-rgb), 0.2);
    }
  }
  
  /* Dark mode adjustments */
  .dark {
    .card.premium {
      background: linear-gradient(
        135deg,
        rgba(var(--color-primary-rgb), 0.2) 0%,
        rgba(var(--color-secondary-rgb), 0.2) 100%
      );
      border: 1px solid rgba(var(--color-accent-rgb), 0.3);
    }
  }
}